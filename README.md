# dbKeyValue

Реализация LSM tree хранилища key-value.

Описание основных сущностей ниже.

## MemTable

Структура в оперативной памяти, которая поддерживает методы: 
`Get(key string)`, `Put(key string, value []byte)`, `Delete(key string)`.

Хранение данных и доступ к ним обеспечивается при помощи `Bucket`.

При достижении максимально допустимого по конфигурации пользователя размера хранящихся в ней данных
выгружает методом `Write` содержимое `Bucket` на диск.

### Bucket

Содержит структуру данных `btree`, размер которой задается пользователем в конфигурации.

Удаляет/добавляет данные по переданному ключу в `btree`. Всегда хранит только последнюю версию ключа.

Поддерживает метод `Scan()` - возвращает все хранимые структурой данные в виде массива структур `Node`.
Массив упорядочен лексикографически по ключу.

#### Node

Элемент `btree`.

## SSTable

Структура в оперативной памяти, которая содержит:

- `filepath` - путь до директории с выгруженными на диск файлами с данными `*.sstable`;

- `index` - `red-black-tree` структура данных, разреженный индекс построенный по ключам данных;

- `bloomFilter` - фильтр Блума, структура данных, позволяющая за `O(1)` ответить, содержит ли `SSTable` данные по запрашиваемому ключу.

### Entry

Единица данных `SSTable` в оперативной памяти.

Поддерживает методы `Marshall()`, `Unmarshall(in []byte)`.
Преобразует значения `key` и `value` в массив байт `data` вида: `keyLength`(8 байт), `valueLength`(8 байт), 
`bKey_payload`(размера `keyLength`), `bValue_payload`(размера `valueLength`). 

## Flush

